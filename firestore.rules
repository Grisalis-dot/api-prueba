rules_version = '2';

/**
 * FIRESTORE SECURITY RULES - EVALUATION MODE
 * 
 * Para esta prueba técnica, permitimos acceso público a la colección de activos.
 * Esto asegura que:
 * 1. Los API Routes (servidor) puedan acceder a los datos.
 * 2. El reclutador pueda usar Postman/cURL sin configurar autenticación.
 * 3. La UI funcione inmediatamente sin esperar al login anónimo.
 */

service cloud.firestore {
  match /databases/{database}/documents {

    match /assets/{assetId} {
      // Permitimos lectura y escritura pública para facilitar la evaluación técnica.
      allow read, write: if true;
    }

    // El resto de la base de datos permanece bloqueado por defecto.
    match /{path=**} {
      allow read, write: if false;
    }
  }
}
